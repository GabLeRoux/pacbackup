<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Pacbackup : ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Pacbackup</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/abak/pacbackup">View on GitHub</a>

          <h1 id="project_title">Pacbackup</h1>
          <h2 id="project_tagline"></h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/abak/pacbackup/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/abak/pacbackup/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="pacbackup" class="anchor" href="#pacbackup" aria-hidden="true"><span class="octicon octicon-link"></span></a>pacbackup</h1>

<p>Arch is a great system, and pacman is a greate package mananger. However, Arch being a rolling release distro, updates can break things. Arch being a DIY distro <em>you</em> can break things. If most of the time, you can fix things, it can happen that your installed is broken beyond all repair and the solution is to start again from a clean install.</p>

<p>If you're like me, your data is usually safe and backed-up a gazillion times to prvent this&gt; One problem I had though, is that I couldn't back-up the list of packages I had installed, whether from the official repo, or from AUR. Pacbackup provides this.</p>

<h2>
<a id="what-pacbackup-provides" class="anchor" href="#what-pacbackup-provides" aria-hidden="true"><span class="octicon octicon-link"></span></a>What pacbackup provides</h2>

<h3>
<a id="pacbackuppy" class="anchor" href="#pacbackuppy" aria-hidden="true"><span class="octicon octicon-link"></span></a>pacbackup.py</h3>

<p>Pacbackup consists of two components. First there is a deamon that regularly queries pacman database to keep track of all explicitly installed packages. It saves this list in a user supplied folder and manage a local git repository in that directory to keep an history of when what was installed.</p>

<h3>
<a id="pacrestoresh" class="anchor" href="#pacrestoresh" aria-hidden="true"><span class="octicon octicon-link"></span></a>pacrestore.sh</h3>

<p>The second component is a shell script, stored alongside the package list that performs the restoration. This script will read the package list, restore all packages from the official repos, and then will restore all packages from AUR, including their dependencies.</p>

<h3>
<a id="systemd-integration" class="anchor" href="#systemd-integration" aria-hidden="true"><span class="octicon octicon-link"></span></a>systemd integration</h3>

<p>The package also includes systemd unit and timer files to perform regular backups. These will be installed under <code>/etc/systemd/user</code> and are <em>not</em> enabled by default since you might want to edit them beforehand.</p>

<h2>
<a id="what-pacbackup-does-not-provide" class="anchor" href="#what-pacbackup-does-not-provide" aria-hidden="true"><span class="octicon octicon-link"></span></a>What pacbackup does <em>not</em> provide</h2>

<h3>
<a id="offsite-backups" class="anchor" href="#offsite-backups" aria-hidden="true"><span class="octicon octicon-link"></span></a>Offsite backups</h3>

<p>pacbackup does not directly provides offsite backup facilities. However, ther are several solutions readily available:</p>

<ul>
<li><p>Include pacbackup target folder in your regular backup, which I'm sure you do the right way.</p></li>
<li><p>tell pacbackup to target a remote/cloud based folder (Dropbox-like)</p></li>
<li><p>edit the managed git repo to perform post-commit push to a remote</p></li>
</ul>

<h3>
<a id="snapshot-restoration" class="anchor" href="#snapshot-restoration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Snapshot restoration</h3>

<p>As far as I know, due to the rolling nature of Arch, it is not directly possible to install a specific version of a package if you don't have the corresponding tarball. My first concern with pacbackup was to get my machine up and running in a catastrophic event, so it's not really possible to assume that specific versions of software are locally available.</p>

<h2>
<a id="how-to-install" class="anchor" href="#how-to-install" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to install</h2>

<p>Pacbackup is available on the <a href="https://aur.archlinux.org/packages/pacbackup/">AUR</a>, you can also clone this repo to install it manually via </p>

<pre><code>python setup.py install
</code></pre>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Pacbackup maintained by <a href="https://github.com/abak">abak</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
